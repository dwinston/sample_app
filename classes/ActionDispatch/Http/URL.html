<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActionDispatch::Http::URL</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            ActionDispatch::Http::URL 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/actionpack/lib/action_dispatch/http/url_rb.html">actionpack/lib/action_dispatch/http/url.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>D</dt>
        <dd>
            <ul>
                
                <li><a href="#M002085">domain</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M002067">extract_domain</a>,</li>
                
                <li><a href="#M002069">extract_subdomain</a>,</li>
                
                <li><a href="#M002068">extract_subdomains</a></li>
                
            </ul>
        </dd>
    
        <dt>H</dt>
        <dd>
            <ul>
                
                <li><a href="#M002077">host</a>,</li>
                
                <li><a href="#M002078">host_with_port</a></li>
                
            </ul>
        </dd>
    
        <dt>O</dt>
        <dd>
            <ul>
                
                <li><a href="#M002082">optional_port</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M002079">port</a>,</li>
                
                <li><a href="#M002083">port_string</a>,</li>
                
                <li><a href="#M002075">protocol</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M002076">raw_host_with_port</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M002084">server_port</a>,</li>
                
                <li><a href="#M002080">standard_port</a>,</li>
                
                <li><a href="#M002081">standard_port?</a>,</li>
                
                <li><a href="#M002087">subdomain</a>,</li>
                
                <li><a href="#M002086">subdomains</a></li>
                
            </ul>
        </dd>
    
        <dt>U</dt>
        <dd>
            <ul>
                
                <li><a href="#M002074">url</a>,</li>
                
                <li><a href="#M002070">url_for</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M002067">
                    
                    <a name="M002067"></a><b>extract_domain</b>(host, tld_length = @@tld_length)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002067_source')" id="l_M002067_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L8" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002067_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 8</span>
 8:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extract_domain</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">tld_length</span> = <span class="ruby-ivar">@@tld_length</span>)
 9:           <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">named_host?</span>(<span class="ruby-identifier">host</span>)
10:           <span class="ruby-identifier">host</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>).<span class="ruby-identifier">last</span>(<span class="ruby-value">1</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">tld_length</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">'.'</span>)
11:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002069">
                    
                    <a name="M002069"></a><b>extract_subdomain</b>(host, tld_length = @@tld_length)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002069_source')" id="l_M002069_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L19" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002069_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 19</span>
19:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extract_subdomain</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">tld_length</span> = <span class="ruby-ivar">@@tld_length</span>)
20:           <span class="ruby-identifier">extract_subdomains</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">tld_length</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">'.'</span>)
21:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002068">
                    
                    <a name="M002068"></a><b>extract_subdomains</b>(host, tld_length = @@tld_length)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002068_source')" id="l_M002068_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L13" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002068_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 13</span>
13:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">extract_subdomains</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">tld_length</span> = <span class="ruby-ivar">@@tld_length</span>)
14:           <span class="ruby-keyword kw">return</span> [] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">named_host?</span>(<span class="ruby-identifier">host</span>)
15:           <span class="ruby-identifier">parts</span> = <span class="ruby-identifier">host</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>)
16:           <span class="ruby-identifier">parts</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-operator">-</span>(<span class="ruby-identifier">tld_length</span><span class="ruby-operator">+</span><span class="ruby-value">2</span>)]
17:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002070">
                    
                    <a name="M002070"></a><b>url_for</b>(options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002070_source')" id="l_M002070_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L23" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002070_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 23</span>
23:         <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url_for</span>(<span class="ruby-identifier">options</span> = {})
24:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:host</span>].<span class="ruby-identifier">present?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:only_path</span>].<span class="ruby-identifier">present?</span>
25:             <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">'Missing host to link to! Please provide the :host parameter, set default_url_options[:host], or set :only_path to true'</span>
26:           <span class="ruby-keyword kw">end</span>
27: 
28:           <span class="ruby-identifier">rewritten_url</span> = <span class="ruby-value str">&quot;&quot;</span>
29: 
30:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:only_path</span>]
31:             <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:protocol</span>] <span class="ruby-operator">==</span> <span class="ruby-keyword kw">false</span>
32:               <span class="ruby-identifier">rewritten_url</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:protocol</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">&quot;http&quot;</span>)
33:               <span class="ruby-identifier">rewritten_url</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;:&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">rewritten_url</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">%r{:|//}</span>)
34:             <span class="ruby-keyword kw">end</span>
35:             <span class="ruby-identifier">rewritten_url</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;//&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">rewritten_url</span>.<span class="ruby-identifier">match</span>(<span class="ruby-value str">&quot;//&quot;</span>)
36:             <span class="ruby-identifier">rewritten_url</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">rewrite_authentication</span>(<span class="ruby-identifier">options</span>)
37:             <span class="ruby-identifier">rewritten_url</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">host_or_subdomain_and_domain</span>(<span class="ruby-identifier">options</span>)
38:             <span class="ruby-identifier">rewritten_url</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;:#{options.delete(:port)}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:port</span>]
39:           <span class="ruby-keyword kw">end</span>
40: 
41:           <span class="ruby-identifier">path</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:path</span>) <span class="ruby-operator">||</span> <span class="ruby-value str">''</span>
42: 
43:           <span class="ruby-identifier">params</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:params</span>] <span class="ruby-operator">||</span> {}
44:           <span class="ruby-identifier">params</span>.<span class="ruby-identifier">reject!</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">v</span>.<span class="ruby-identifier">to_param</span>.<span class="ruby-identifier">nil?</span> }
45: 
46:           <span class="ruby-identifier">rewritten_url</span> <span class="ruby-operator">&lt;&lt;</span> (<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:trailing_slash</span>] <span class="ruby-operator">?</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\?|\z/</span>) { <span class="ruby-value str">&quot;/&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">$&amp;</span> } <span class="ruby-operator">:</span> <span class="ruby-identifier">path</span>)
47:           <span class="ruby-identifier">rewritten_url</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;?#{params.to_query}&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">params</span>.<span class="ruby-identifier">empty?</span>
48:           <span class="ruby-identifier">rewritten_url</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;##{Journey::Router::Utils.escape_fragment(options[:anchor].to_param.to_s)}&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:anchor</span>]
49:           <span class="ruby-identifier">rewritten_url</span>
50:         <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M002085">
                    
                    <a name="M002085"></a><b>domain</b>(tld_length = @@tld_length)
                    
                </div>
                
                <div class="description">
                  <p>
Returns the domain part of a host, such as &#8220;rubyonrails.org&#8220; in
&#8220;<a href="http://www.rubyonrails.org">www.rubyonrails.org</a>&#8220;.
You can specify a different <tt>tld_length</tt>, such as 2 to catch
rubyonrails.co.uk in &#8220;<a
href="http://www.rubyonrails.co.uk">www.rubyonrails.co.uk</a>&#8220;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002085_source')" id="l_M002085_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L153" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002085_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 153</span>
153:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">domain</span>(<span class="ruby-identifier">tld_length</span> = <span class="ruby-ivar">@@tld_length</span>)
154:         <span class="ruby-constant">ActionDispatch</span><span class="ruby-operator">::</span><span class="ruby-constant">Http</span><span class="ruby-operator">::</span><span class="ruby-constant">URL</span>.<span class="ruby-identifier">extract_domain</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">tld_length</span>)
155:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002077">
                    
                    <a name="M002077"></a><b>host</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the host for this request, such as example.com.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002077_source')" id="l_M002077_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L101" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002077_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 101</span>
101:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">host</span>
102:         <span class="ruby-identifier">raw_host_with_port</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/:\d+$/</span>, <span class="ruby-value str">''</span>)
103:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002078">
                    
                    <a name="M002078"></a><b>host_with_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a host:port string for this request, such as
&#8220;example.com&#8220; or &#8220;example.com:8080&#8221;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002078_source')" id="l_M002078_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L107" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002078_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 107</span>
107:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">host_with_port</span>
108:         <span class="ruby-node">&quot;#{host}#{port_string}&quot;</span>
109:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002082">
                    
                    <a name="M002082"></a><b>optional_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a number port suffix like 8080 if the port number of this request
is not the default HTTP port 80 or HTTPS port 443.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002082_source')" id="l_M002082_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L137" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002082_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 137</span>
137:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">optional_port</span>
138:         <span class="ruby-identifier">standard_port?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">port</span>
139:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002079">
                    
                    <a name="M002079"></a><b>port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the port number of this request as an integer.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002079_source')" id="l_M002079_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L112" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002079_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 112</span>
112:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">port</span>
113:         <span class="ruby-ivar">@port</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">begin</span>
114:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">raw_host_with_port</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/:(\d+)$/</span>
115:             <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">to_i</span>
116:           <span class="ruby-keyword kw">else</span>
117:             <span class="ruby-identifier">standard_port</span>
118:           <span class="ruby-keyword kw">end</span>
119:         <span class="ruby-keyword kw">end</span>
120:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002083">
                    
                    <a name="M002083"></a><b>port_string</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a string port suffix, including colon, like &#8220;:8080&#8221; if
the port number of this request is not the default HTTP port 80 or HTTPS
port 443.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002083_source')" id="l_M002083_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L143" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002083_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 143</span>
143:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">port_string</span>
144:         <span class="ruby-identifier">standard_port?</span> <span class="ruby-value">? </span><span class="ruby-value str">''</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;:#{port}&quot;</span>
145:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002075">
                    
                    <a name="M002075"></a><b>protocol</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns &#8216;https://&#8217; if this is an SSL request and
&#8216;http://&#8217; otherwise.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002075_source')" id="l_M002075_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L87" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002075_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 87</span>
87:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">protocol</span>
88:         <span class="ruby-ivar">@protocol</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">ssl?</span> <span class="ruby-value">? </span><span class="ruby-value str">'https://'</span> <span class="ruby-operator">:</span> <span class="ruby-value str">'http://'</span>
89:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002076">
                    
                    <a name="M002076"></a><b>raw_host_with_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the host for this request, such as &#8220;example.com&#8220;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002076_source')" id="l_M002076_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L92" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002076_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 92</span>
92:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">raw_host_with_port</span>
93:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">forwarded</span> = <span class="ruby-identifier">env</span>[<span class="ruby-value str">&quot;HTTP_X_FORWARDED_HOST&quot;</span>]
94:           <span class="ruby-identifier">forwarded</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/,\s?/</span>).<span class="ruby-identifier">last</span>
95:         <span class="ruby-keyword kw">else</span>
96:           <span class="ruby-identifier">env</span>[<span class="ruby-value str">'HTTP_HOST'</span>] <span class="ruby-operator">||</span> <span class="ruby-node">&quot;#{env['SERVER_NAME'] || env['SERVER_ADDR']}:#{env['SERVER_PORT']}&quot;</span>
97:         <span class="ruby-keyword kw">end</span>
98:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002084">
                    
                    <a name="M002084"></a><b>server_port</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002084_source')" id="l_M002084_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L147" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002084_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 147</span>
147:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">server_port</span>
148:         <span class="ruby-ivar">@env</span>[<span class="ruby-value str">'SERVER_PORT'</span>].<span class="ruby-identifier">to_i</span>
149:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002080">
                    
                    <a name="M002080"></a><b>standard_port</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the standard port number for this request&#8217;s protocol.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002080_source')" id="l_M002080_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L123" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002080_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 123</span>
123:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">standard_port</span>
124:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">protocol</span>
125:           <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'https://'</span> <span class="ruby-keyword kw">then</span> <span class="ruby-value">443</span>
126:           <span class="ruby-keyword kw">else</span> <span class="ruby-value">80</span>
127:         <span class="ruby-keyword kw">end</span>
128:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002081">
                    
                    <a name="M002081"></a><b>standard_port?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns whether this request is using the standard port
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002081_source')" id="l_M002081_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L131" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002081_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 131</span>
131:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">standard_port?</span>
132:         <span class="ruby-identifier">port</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">standard_port</span>
133:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002087">
                    
                    <a name="M002087"></a><b>subdomain</b>(tld_length = @@tld_length)
                    
                </div>
                
                <div class="description">
                  <p>
Returns all the subdomains as a string, so <tt>&quot;dev.www&quot;</tt>
would be returned for &#8220;dev.www.rubyonrails.org&#8220;. You can
specify a different <tt>tld_length</tt>, such as 2 to catch
<tt>&quot;www&quot;</tt> instead of <tt>&quot;<a
href="http://www.rubyonrails">www.rubyonrails</a>&quot;</tt> in &#8220;<a
href="http://www.rubyonrails.co.uk">www.rubyonrails.co.uk</a>&#8220;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002087_source')" id="l_M002087_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L169" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002087_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 169</span>
169:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subdomain</span>(<span class="ruby-identifier">tld_length</span> = <span class="ruby-ivar">@@tld_length</span>)
170:         <span class="ruby-identifier">subdomains</span>(<span class="ruby-identifier">tld_length</span>).<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;.&quot;</span>)
171:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002086">
                    
                    <a name="M002086"></a><b>subdomains</b>(tld_length = @@tld_length)
                    
                </div>
                
                <div class="description">
                  <p>
Returns all the subdomains as an array, so <tt>[&quot;dev&quot;,
&quot;www&quot;]</tt> would be returned for
&#8220;dev.www.rubyonrails.org&#8220;. You can specify a different
<tt>tld_length</tt>, such as 2 to catch <tt>[&quot;www&quot;]</tt> instead
of <tt>[&quot;www&quot;, &quot;rubyonrails&quot;]</tt> in &#8220;<a
href="http://www.rubyonrails.co.uk">www.rubyonrails.co.uk</a>&#8220;.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002086_source')" id="l_M002086_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L161" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002086_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 161</span>
161:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">subdomains</span>(<span class="ruby-identifier">tld_length</span> = <span class="ruby-ivar">@@tld_length</span>)
162:         <span class="ruby-constant">ActionDispatch</span><span class="ruby-operator">::</span><span class="ruby-constant">Http</span><span class="ruby-operator">::</span><span class="ruby-constant">URL</span>.<span class="ruby-identifier">extract_subdomains</span>(<span class="ruby-identifier">host</span>, <span class="ruby-identifier">tld_length</span>)
163:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M002074">
                    
                    <a name="M002074"></a><b>url</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the complete <a href="URL.html">URL</a> used for this request.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M002074_source')" id="l_M002074_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/5f67cfeda116f2b932ef72781420aa37e62437ca/actionpack/lib/action_dispatch/http/url.rb#L82" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M002074_source" class="dyn-source">
                        <pre>    <span class="ruby-comment cmt"># File actionpack/lib/action_dispatch/http/url.rb, line 82</span>
82:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">url</span>
83:         <span class="ruby-identifier">protocol</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">host_with_port</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">fullpath</span>
84:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    