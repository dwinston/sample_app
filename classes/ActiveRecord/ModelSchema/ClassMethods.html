<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActiveRecord::ModelSchema::ClassMethods</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Module</span> 
            ActiveRecord::ModelSchema::ClassMethods 
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activerecord/lib/active_record/model_schema_rb.html">activerecord/lib/active_record/model_schema.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M001456">column_defaults</a>,</li>
                
                <li><a href="#M001457">column_names</a>,</li>
                
                <li><a href="#M001454">columns</a>,</li>
                
                <li><a href="#M001455">columns_hash</a>,</li>
                
                <li><a href="#M001458">content_columns</a></li>
                
            </ul>
        </dd>
    
        <dt>I</dt>
        <dd>
            <ul>
                
                <li><a href="#M001436">inheritance_column</a>,</li>
                
                <li><a href="#M001446">inheritance_column=</a></li>
                
            </ul>
        </dd>
    
        <dt>Q</dt>
        <dd>
            <ul>
                
                <li><a href="#M001433">quoted_table_name</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M001466">reset_column_information</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M001448">sequence_name</a>,</li>
                
                <li><a href="#M001451">sequence_name=</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M001453">table_exists?</a>,</li>
                
                <li><a href="#M001429">table_name</a>,</li>
                
                <li><a href="#M001431">table_name=</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    

    

    

    
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001456">
                    
                    <a name="M001456"></a><b>column_defaults</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash where the keys are column names and the values are default
values when instantiating the AR object for this table.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001456_source')" id="l_M001456_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L242" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001456_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 242</span>
242:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">column_defaults</span>
243:         <span class="ruby-ivar">@column_defaults</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">default</span>] }]
244:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001457">
                    
                    <a name="M001457"></a><b>column_names</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of column names as strings.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001457_source')" id="l_M001457_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L247" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001457_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 247</span>
247:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">column_names</span>
248:         <span class="ruby-ivar">@column_names</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">column</span><span class="ruby-operator">|</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">name</span> }
249:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001454">
                    
                    <a name="M001454"></a><b>columns</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of column objects for the table associated with this
class.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001454_source')" id="l_M001454_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L227" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001454_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 227</span>
227:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">columns</span>
228:         <span class="ruby-ivar">@columns</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">schema_cache</span>.<span class="ruby-identifier">columns</span>[<span class="ruby-identifier">table_name</span>].<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">col</span><span class="ruby-operator">|</span>
229:           <span class="ruby-identifier">col</span> = <span class="ruby-identifier">col</span>.<span class="ruby-identifier">dup</span>
230:           <span class="ruby-identifier">col</span>.<span class="ruby-identifier">primary</span> = (<span class="ruby-identifier">col</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">primary_key</span>)
231:           <span class="ruby-identifier">col</span>
232:         <span class="ruby-keyword kw">end</span>
233:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001455">
                    
                    <a name="M001455"></a><b>columns_hash</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a hash of column objects for the table associated with this class.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001455_source')" id="l_M001455_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L236" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001455_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 236</span>
236:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">columns_hash</span>
237:         <span class="ruby-ivar">@columns_hash</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">columns</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>, <span class="ruby-identifier">c</span>] }]
238:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001458">
                    
                    <a name="M001458"></a><b>content_columns</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns an array of column objects where the primary id, all columns ending
in &#8220;_id&#8221; or &#8220;_count&#8221;, and columns used for single
table inheritance have been removed.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001458_source')" id="l_M001458_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L253" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001458_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 253</span>
253:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">content_columns</span>
254:         <span class="ruby-ivar">@content_columns</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">columns</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">primary</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/(_id|_count)$/</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">inheritance_column</span> }
255:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001436">
                    
                    <a name="M001436"></a><b>inheritance_column</b>()
                    
                </div>
                
                <div class="description">
                  <p>
The name of the column containing the object&#8217;s class when Single
Table <a href="../Inheritance.html">Inheritance</a> is used
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001436_source')" id="l_M001436_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L160" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001436_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 160</span>
160:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inheritance_column</span>
161:         <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">self</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Base</span>
162:           <span class="ruby-value str">'type'</span>
163:         <span class="ruby-keyword kw">else</span>
164:           (<span class="ruby-ivar">@inheritance_column</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">nil</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">superclass</span>.<span class="ruby-identifier">inheritance_column</span>
165:         <span class="ruby-keyword kw">end</span>
166:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001446">
                    
                    <a name="M001446"></a><b>inheritance_column=</b>(value)
                    
                </div>
                
                <div class="description">
                  <p>
Sets the value of <a
href="ClassMethods.html#M001436">inheritance_column</a>
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001446_source')" id="l_M001446_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L173" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001446_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 173</span>
173:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inheritance_column=</span>(<span class="ruby-identifier">value</span>)
174:         <span class="ruby-ivar">@original_inheritance_column</span> = <span class="ruby-identifier">inheritance_column</span>
175:         <span class="ruby-ivar">@inheritance_column</span>          = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>
176:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001433">
                    
                    <a name="M001433"></a><b>quoted_table_name</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns a quoted version of the table name, used to construct SQL
statements.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001433_source')" id="l_M001433_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L136" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001433_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 136</span>
136:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quoted_table_name</span>
137:         <span class="ruby-ivar">@quoted_table_name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote_table_name</span>(<span class="ruby-identifier">table_name</span>)
138:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001466">
                    
                    <a name="M001466"></a><b>reset_column_information</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Resets all the cached information about columns, which will cause them to
be reloaded on the next request.
</p>
<p>
The most common usage pattern for this method is probably in a migration,
when just after creating a table you want to populate it with some default
values, eg:
</p>
<pre>
 class CreateJobLevels &lt; ActiveRecord::Migration
   def up
     create_table :job_levels do |t|
       t.integer :id
       t.string :name

       t.timestamps
     end

     JobLevel.reset_column_information
     %w{assistant executive manager director}.each do |type|
       JobLevel.create(:name =&gt; type)
     end
   end

   def down
     drop_table :job_levels
   end
 end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001466_source')" id="l_M001466_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L297" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001466_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 297</span>
297:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_column_information</span>
298:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">clear_cache!</span>
299:         <span class="ruby-identifier">undefine_attribute_methods</span>
300:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">schema_cache</span>.<span class="ruby-identifier">clear_table_cache!</span>(<span class="ruby-identifier">table_name</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">table_exists?</span>
301: 
302:         <span class="ruby-ivar">@column_names</span> = <span class="ruby-ivar">@content_columns</span> = <span class="ruby-ivar">@column_defaults</span> = <span class="ruby-ivar">@columns</span> = <span class="ruby-ivar">@columns_hash</span> = <span class="ruby-keyword kw">nil</span>
303:         <span class="ruby-ivar">@dynamic_methods_hash</span> = <span class="ruby-ivar">@inheritance_column</span> = <span class="ruby-keyword kw">nil</span>
304:         <span class="ruby-ivar">@arel_engine</span> = <span class="ruby-ivar">@relation</span> = <span class="ruby-keyword kw">nil</span>
305:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001448">
                    
                    <a name="M001448"></a><b>sequence_name</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001448_source')" id="l_M001448_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L182" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001448_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 182</span>
182:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sequence_name</span>
183:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">base_class</span> <span class="ruby-operator">==</span> <span class="ruby-keyword kw">self</span>
184:           <span class="ruby-ivar">@sequence_name</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">reset_sequence_name</span>
185:         <span class="ruby-keyword kw">else</span>
186:           (<span class="ruby-ivar">@sequence_name</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">nil</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">base_class</span>.<span class="ruby-identifier">sequence_name</span>
187:         <span class="ruby-keyword kw">end</span>
188:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001451">
                    
                    <a name="M001451"></a><b>sequence_name=</b>(value)
                    
                </div>
                
                <div class="description">
                  <p>
Sets the name of the sequence to use when generating ids to the given
value, or (if the value is nil or false) to the value returned by the given
block. This is required for Oracle and is useful for any database which
relies on sequences for primary key generation.
</p>
<p>
If a sequence name is not explicitly set when using Oracle or Firebird, it
will default to the commonly used pattern of: #{<a
href="ClassMethods.html#M001429">table_name</a>}_seq
</p>
<p>
If a sequence name is not explicitly set when using PostgreSQL, it will
discover the sequence corresponding to your primary key for you.
</p>
<pre>
  class Project &lt; ActiveRecord::Base
    self.sequence_name = &quot;projectseq&quot;   # default would have been &quot;project_seq&quot;
  end
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001451_source')" id="l_M001451_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L212" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001451_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 212</span>
212:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">sequence_name=</span>(<span class="ruby-identifier">value</span>)
213:         <span class="ruby-ivar">@original_sequence_name</span> = <span class="ruby-ivar">@sequence_name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@sequence_name</span>)
214:         <span class="ruby-ivar">@sequence_name</span>          = <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>
215:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001453">
                    
                    <a name="M001453"></a><b>table_exists?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Indicates whether the table associated with this class exists
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001453_source')" id="l_M001453_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L222" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001453_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 222</span>
222:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">table_exists?</span>
223:         <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">schema_cache</span>.<span class="ruby-identifier">table_exists?</span>(<span class="ruby-identifier">table_name</span>)
224:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001429">
                    
                    <a name="M001429"></a><b>table_name</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Guesses the table name (in forced lower-case) based on the name of the
class in the inheritance hierarchy descending directly from <a
href="../Base.html">ActiveRecord::Base</a>. So if the hierarchy looks like:
Reply < Message < <a href="../Base.html">ActiveRecord::Base</a>, then
Message is used to guess the table name even when called on Reply. The
rules used to do the guess are handled by the Inflector class in Active
Support, which knows almost all common English inflections. You can add new
inflections in config/initializers/inflections.rb.
</p>
<p>
Nested classes are given table names prefixed by the singular form of the
parent&#8217;s table name. Enclosing modules are not considered.
</p>
<h4>Examples</h4>
<pre>
  class Invoice &lt; ActiveRecord::Base
  end

  file                  class               table_name
  invoice.rb            Invoice             invoices

  class Invoice &lt; ActiveRecord::Base
    class Lineitem &lt; ActiveRecord::Base
    end
  end

  file                  class               table_name
  invoice.rb            Invoice::Lineitem   invoice_lineitems

  module Invoice
    class Lineitem &lt; ActiveRecord::Base
    end
  end

  file                  class               table_name
  invoice/lineitem.rb   Invoice::Lineitem   lineitems
</pre>
<p>
Additionally, the class-level <tt>table_name_prefix</tt> is prepended and
the <tt>table_name_suffix</tt> is appended. So if you have
&#8220;myapp_&#8221; as a prefix, the table name guess for an Invoice class
becomes &#8220;myapp_invoices&#8220;. Invoice::Lineitem becomes
&#8220;myapp_invoice_lineitems&#8220;.
</p>
<p>
You can also set your own table name explicitly:
</p>
<pre>
  class Mouse &lt; ActiveRecord::Base
    self.table_name = &quot;mice&quot;
  end
</pre>
<p>
Alternatively, you can override the <a
href="ClassMethods.html#M001429">table_name</a> method to define your own
computation. (Possibly using <tt>super</tt> to manipulate the default table
name.) Example:
</p>
<pre>
  class Post &lt; ActiveRecord::Base
    def self.table_name
      &quot;special_&quot; + super
    end
  end
  Post.table_name # =&gt; &quot;special_posts&quot;
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001429_source')" id="l_M001429_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L103" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001429_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 103</span>
103:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">table_name</span>
104:         <span class="ruby-identifier">reset_table_name</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@table_name</span>)
105:         <span class="ruby-ivar">@table_name</span>
106:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001431">
                    
                    <a name="M001431"></a><b>table_name=</b>(value)
                    
                </div>
                
                <div class="description">
                  <p>
Sets the table name explicitly. Example:
</p>
<pre>
  class Project &lt; ActiveRecord::Base
    self.table_name = &quot;project&quot;
  end
</pre>
<p>
You can also just define your own <tt>self.table_name</tt> method; see the
documentation for ActiveRecord::Base#table_name.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001431_source')" id="l_M001431_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/36d7af34d6e878a4557ba8a2c282609da2f646ba/activerecord/lib/active_record/model_schema.rb#L120" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001431_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/model_schema.rb, line 120</span>
120:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">table_name=</span>(<span class="ruby-identifier">value</span>)
121:         <span class="ruby-ivar">@original_table_name</span> = <span class="ruby-ivar">@table_name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@table_name</span>)
122:         <span class="ruby-ivar">@table_name</span>          = <span class="ruby-identifier">value</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>
123:         <span class="ruby-ivar">@quoted_table_name</span>   = <span class="ruby-keyword kw">nil</span>
124:         <span class="ruby-ivar">@arel_table</span>          = <span class="ruby-keyword kw">nil</span>
125:         <span class="ruby-ivar">@relation</span>            = <span class="ruby-constant">Relation</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">arel_table</span>)
126:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    