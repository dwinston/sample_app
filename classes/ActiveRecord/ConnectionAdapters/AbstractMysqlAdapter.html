<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="../../../css/reset.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../../css/main.css" type="text/css" media="screen" />
    <script src="../../../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/jquery-effect.js" type="text/javascript" charset="utf-8"></script>
    <script src="../../../js/main.js" type="text/javascript" charset="utf-8"></script>
</head>

<body>     
    <div class="banner">
        <h1>
            <span class="type">Class</span> 
            ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter 
            
                <span class="parent">&lt; 
                    
                    AbstractAdapter
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter_rb.html">activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
    

    

    
    

    
    
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
    
        <dt>A</dt>
        <dd>
            <ul>
                
                <li><a href="#M001234">add_column</a>,</li>
                
                <li><a href="#M001240">add_column_position!</a>,</li>
                
                <li><a href="#M001250">add_column_sql</a>,</li>
                
                <li><a href="#M001247">add_index_length</a>,</li>
                
                <li><a href="#M001254">add_index_sql</a>,</li>
                
                <li><a href="#M001256">add_timestamps_sql</a></li>
                
            </ul>
        </dd>
    
        <dt>B</dt>
        <dd>
            <ul>
                
                <li><a href="#M001213">begin_db_transaction</a></li>
                
            </ul>
        </dd>
    
        <dt>C</dt>
        <dd>
            <ul>
                
                <li><a href="#M001245">case_insensitive_comparison</a>,</li>
                
                <li><a href="#M001244">case_sensitive_modifier</a>,</li>
                
                <li><a href="#M001235">change_column_default</a>,</li>
                
                <li><a href="#M001236">change_column_null</a>,</li>
                
                <li><a href="#M001251">change_column_sql</a>,</li>
                
                <li><a href="#M001225">charset</a>,</li>
                
                <li><a href="#M001226">collation</a>,</li>
                
                <li><a href="#M001222">create_database</a>,</li>
                
                <li><a href="#M001216">create_savepoint</a>,</li>
                
                <li><a href="#M001224">current_database</a></li>
                
            </ul>
        </dd>
    
        <dt>E</dt>
        <dd>
            <ul>
                
                <li><a href="#M001192">emulate_booleans</a>,</li>
                
                <li><a href="#M001210">execute</a></li>
                
            </ul>
        </dd>
    
        <dt>L</dt>
        <dd>
            <ul>
                
                <li><a href="#M001246">limited_update_conditions</a></li>
                
            </ul>
        </dd>
    
        <dt>N</dt>
        <dd>
            <ul>
                
                <li><a href="#M001200">native_database_types</a>,</li>
                
                <li><a href="#M001193">new</a></li>
                
            </ul>
        </dd>
    
        <dt>P</dt>
        <dd>
            <ul>
                
                <li><a href="#M001242">pk_and_sequence_for</a>,</li>
                
                <li><a href="#M001243">primary_key</a></li>
                
            </ul>
        </dd>
    
        <dt>Q</dt>
        <dd>
            <ul>
                
                <li><a href="#M001204">quote</a>,</li>
                
                <li><a href="#M001248">quoted_columns_for_index</a>,</li>
                
                <li><a href="#M001208">quoted_false</a>,</li>
                
                <li><a href="#M001207">quoted_true</a></li>
                
            </ul>
        </dd>
    
        <dt>R</dt>
        <dd>
            <ul>
                
                <li><a href="#M001221">recreate_database</a>,</li>
                
                <li><a href="#M001218">release_savepoint</a>,</li>
                
                <li><a href="#M001253">remove_column_sql</a>,</li>
                
                <li><a href="#M001255">remove_index_sql</a>,</li>
                
                <li><a href="#M001257">remove_timestamps_sql</a>,</li>
                
                <li><a href="#M001252">rename_column_sql</a>,</li>
                
                <li><a href="#M001233">rename_table</a>,</li>
                
                <li><a href="#M001217">rollback_to_savepoint</a></li>
                
            </ul>
        </dd>
    
        <dt>S</dt>
        <dd>
            <ul>
                
                <li><a href="#M001241">show_variable</a>,</li>
                
                <li><a href="#M001199">supports_index_sort_order?</a>,</li>
                
                <li><a href="#M001195">supports_migrations?</a>,</li>
                
                <li><a href="#M001196">supports_primary_key?</a>,</li>
                
                <li><a href="#M001197">supports_savepoints?</a></li>
                
            </ul>
        </dd>
    
        <dt>T</dt>
        <dd>
            <ul>
                
                <li><a href="#M001228">table_exists?</a>,</li>
                
                <li><a href="#M001249">translate_exception</a>,</li>
                
                <li><a href="#M001239">type_to_sql</a></li>
                
            </ul>
        </dd>
    
    </dl>
    

    

    

    
    <div class="sectiontitle">Classes and Modules</div>
    <ul>
        
        <li><span class="type">CLASS</span> <a href="AbstractMysqlAdapter/BindSubstitution.html">ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter::BindSubstitution</a></li>
        
        <li><span class="type">CLASS</span> <a href="AbstractMysqlAdapter/Column.html">ActiveRecord::ConnectionAdapters::AbstractMysqlAdapter::Column</a></li>
        
    </ul>
    

    
    <div class="sectiontitle">Constants</div>
    <table border='0' cellpadding='5'>
        
        <tr valign='top'>
            <td class="attr-name">LOST_CONNECTION_ERROR_MESSAGES</td>
            <td>=</td>
            <td class="attr-value">[         &quot;Server shutdown in progress&quot;,         &quot;Broken pipe&quot;,         &quot;Lost connection to MySQL server during query&quot;,         &quot;MySQL server has gone away&quot; ]</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">QUOTED_FALSE</td>
            <td>=</td>
            <td class="attr-value">'1', '0'</td>
        </tr>
        
        
        <tr valign='top'>
            <td class="attr-name">NATIVE_DATABASE_TYPES</td>
            <td>=</td>
            <td class="attr-value">{         :primary_key =&gt; &quot;int(11) DEFAULT NULL auto_increment PRIMARY KEY&quot;,         :string      =&gt; { :name =&gt; &quot;varchar&quot;, :limit =&gt; 255 },         :text        =&gt; { :name =&gt; &quot;text&quot; },         :integer     =&gt; { :name =&gt; &quot;int&quot;, :limit =&gt; 4 },         :float       =&gt; { :name =&gt; &quot;float&quot; },         :decimal     =&gt; { :name =&gt; &quot;decimal&quot; },         :datetime    =&gt; { :name =&gt; &quot;datetime&quot; },         :timestamp   =&gt; { :name =&gt; &quot;datetime&quot; },         :time        =&gt; { :name =&gt; &quot;time&quot; },         :date        =&gt; { :name =&gt; &quot;date&quot; },         :binary      =&gt; { :name =&gt; &quot;blob&quot; },         :boolean     =&gt; { :name =&gt; &quot;tinyint&quot;, :limit =&gt; 1 }       }</td>
        </tr>
        
        
    </table>
    

    

    
            <div class="sectiontitle">Class Public methods</div>
            
            <div class="method">
                <div class="title" id="M001192">
                    
                    <a name="M001192"></a><b>emulate_booleans</b>
                    
                </div>
                
                <div class="description">
                  <p>
By default, the <a href="MysqlAdapter.html">MysqlAdapter</a> will consider
all columns of type <tt>tinyint(1)</tt> as boolean. If you wish to disable
this emulation (which was the default behavior in versions 0.13.1 and
earlier) you can add the following line to your application.rb file:
</p>
<pre>
  ActiveRecord::ConnectionAdapters::Mysql[2]Adapter.emulate_booleans = false
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001192_source')" id="l_M001192_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L100" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001192_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 100</span>
100:       <span class="ruby-identifier">class_attribute</span> <span class="ruby-identifier">:emulate_booleans</span>
</pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001193">
                    
                    <a name="M001193"></a><b>new</b>(connection, logger, connection_options, config)
                    
                </div>
                
                <div class="description">
                  <p>
FIXME: Make the first parameter more similar for the two adapters
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001193_source')" id="l_M001193_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L131" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001193_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 131</span>
131:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">connection</span>, <span class="ruby-identifier">logger</span>, <span class="ruby-identifier">connection_options</span>, <span class="ruby-identifier">config</span>)
132:         <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">connection</span>, <span class="ruby-identifier">logger</span>)
133:         <span class="ruby-ivar">@connection_options</span>, <span class="ruby-ivar">@config</span> = <span class="ruby-identifier">connection_options</span>, <span class="ruby-identifier">config</span>
134:         <span class="ruby-ivar">@quoted_column_names</span>, <span class="ruby-ivar">@quoted_table_names</span> = {}, {}
135: 
136:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">config</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-identifier">:prepared_statements</span>) { <span class="ruby-keyword kw">true</span> }
137:           <span class="ruby-ivar">@visitor</span> = <span class="ruby-constant">Arel</span><span class="ruby-operator">::</span><span class="ruby-constant">Visitors</span><span class="ruby-operator">::</span><span class="ruby-constant">MySQL</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>
138:         <span class="ruby-keyword kw">else</span>
139:           <span class="ruby-ivar">@visitor</span> = <span class="ruby-constant">BindSubstitution</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">self</span>
140:         <span class="ruby-keyword kw">end</span>
141:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Public methods</div>
            
            <div class="method">
                <div class="title" id="M001234">
                    
                    <a name="M001234"></a><b>add_column</b>(table_name, column_name, type, options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001234_source')" id="l_M001234_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L458" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001234_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 458</span>
458:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_column</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">options</span> = {})
459:         <span class="ruby-identifier">execute</span>(<span class="ruby-node">&quot;ALTER TABLE #{quote_table_name(table_name)} #{add_column_sql(table_name, column_name, type, options)}&quot;</span>)
460:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001240">
                    
                    <a name="M001240"></a><b>add_column_position!</b>(sql, options)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001240_source')" id="l_M001240_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L510" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001240_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 510</span>
510:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_column_position!</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">options</span>)
511:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:first</span>]
512:           <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot; FIRST&quot;</span>
513:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:after</span>]
514:           <span class="ruby-identifier">sql</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; AFTER #{quote_column_name(options[:after])}&quot;</span>
515:         <span class="ruby-keyword kw">end</span>
516:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001213">
                    
                    <a name="M001213"></a><b>begin_db_transaction</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001213_source')" id="l_M001213_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L265" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001213_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 265</span>
265:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">begin_db_transaction</span>
266:         <span class="ruby-identifier">execute</span> <span class="ruby-value str">&quot;BEGIN&quot;</span>
267:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Exception</span>
268:         <span class="ruby-comment cmt"># Transactions aren't supported</span>
269:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001245">
                    
                    <a name="M001245"></a><b>case_insensitive_comparison</b>(table, attribute, column, value)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001245_source')" id="l_M001245_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L547" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001245_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 547</span>
547:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">case_insensitive_comparison</span>(<span class="ruby-identifier">table</span>, <span class="ruby-identifier">attribute</span>, <span class="ruby-identifier">column</span>, <span class="ruby-identifier">value</span>)
548:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">case_sensitive?</span>
549:           <span class="ruby-keyword kw">super</span>
550:         <span class="ruby-keyword kw">else</span>
551:           <span class="ruby-identifier">table</span>[<span class="ruby-identifier">attribute</span>].<span class="ruby-identifier">eq</span>(<span class="ruby-identifier">value</span>)
552:         <span class="ruby-keyword kw">end</span>
553:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001244">
                    
                    <a name="M001244"></a><b>case_sensitive_modifier</b>(node)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001244_source')" id="l_M001244_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L543" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001244_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 543</span>
543:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">case_sensitive_modifier</span>(<span class="ruby-identifier">node</span>)
544:         <span class="ruby-constant">Arel</span><span class="ruby-operator">::</span><span class="ruby-constant">Nodes</span><span class="ruby-operator">::</span><span class="ruby-constant">Bin</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">node</span>)
545:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001235">
                    
                    <a name="M001235"></a><b>change_column_default</b>(table_name, column_name, default)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001235_source')" id="l_M001235_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L462" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001235_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 462</span>
462:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">change_column_default</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">default</span>)
463:         <span class="ruby-identifier">column</span> = <span class="ruby-identifier">column_for</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>)
464:         <span class="ruby-identifier">change_column</span> <span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">column</span>.<span class="ruby-identifier">sql_type</span>, <span class="ruby-identifier">:default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">default</span>
465:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001236">
                    
                    <a name="M001236"></a><b>change_column_null</b>(table_name, column_name, null, default = nil)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001236_source')" id="l_M001236_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L467" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001236_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 467</span>
467:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">change_column_null</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">null</span>, <span class="ruby-identifier">default</span> = <span class="ruby-keyword kw">nil</span>)
468:         <span class="ruby-identifier">column</span> = <span class="ruby-identifier">column_for</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>)
469: 
470:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">null</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">default</span>.<span class="ruby-identifier">nil?</span>
471:           <span class="ruby-identifier">execute</span>(<span class="ruby-node">&quot;UPDATE #{quote_table_name(table_name)} SET #{quote_column_name(column_name)}=#{quote(default)} WHERE #{quote_column_name(column_name)} IS NULL&quot;</span>)
472:         <span class="ruby-keyword kw">end</span>
473: 
474:         <span class="ruby-identifier">change_column</span> <span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">column</span>.<span class="ruby-identifier">sql_type</span>, <span class="ruby-identifier">:null</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">null</span>
475:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001225">
                    
                    <a name="M001225"></a><b>charset</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the database character set.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001225_source')" id="l_M001225_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L367" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001225_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 367</span>
367:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">charset</span>
368:         <span class="ruby-identifier">show_variable</span> <span class="ruby-value str">'character_set_database'</span>
369:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001226">
                    
                    <a name="M001226"></a><b>collation</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns the database collation strategy.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001226_source')" id="l_M001226_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L372" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001226_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 372</span>
372:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">collation</span>
373:         <span class="ruby-identifier">show_variable</span> <span class="ruby-value str">'collation_database'</span>
374:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001222">
                    
                    <a name="M001222"></a><b>create_database</b>(name, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Create a new MySQL database with optional <tt>:charset</tt> and
<tt>:collation</tt>. Charset defaults to utf8.
</p>
<p>
Example:
</p>
<pre>
  create_database 'charset_test', :charset =&gt; 'latin1', :collation =&gt; 'latin1_bin'
  create_database 'matt_development'
  create_database 'matt_development', :charset =&gt; :big5
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001222_source')" id="l_M001222_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L346" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001222_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 346</span>
346:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_database</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {})
347:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:collation</span>]
348:           <span class="ruby-identifier">execute</span> <span class="ruby-node">&quot;CREATE DATABASE `#{name}` DEFAULT CHARACTER SET `#{options[:charset] || 'utf8'}` COLLATE `#{options[:collation]}`&quot;</span>
349:         <span class="ruby-keyword kw">else</span>
350:           <span class="ruby-identifier">execute</span> <span class="ruby-node">&quot;CREATE DATABASE `#{name}` DEFAULT CHARACTER SET `#{options[:charset] || 'utf8'}`&quot;</span>
351:         <span class="ruby-keyword kw">end</span>
352:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001216">
                    
                    <a name="M001216"></a><b>create_savepoint</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001216_source')" id="l_M001216_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L283" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001216_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 283</span>
283:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_savepoint</span>
284:         <span class="ruby-identifier">execute</span>(<span class="ruby-node">&quot;SAVEPOINT #{current_savepoint_name}&quot;</span>)
285:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001224">
                    
                    <a name="M001224"></a><b>current_database</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001224_source')" id="l_M001224_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L362" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001224_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 362</span>
362:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">current_database</span>
363:         <span class="ruby-identifier">select_value</span> <span class="ruby-value str">'SELECT DATABASE() as db'</span>
364:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001210">
                    
                    <a name="M001210"></a><b>execute</b>(sql, name = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Executes the SQL statement in the context of this connection.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001210_source')" id="l_M001210_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L239" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001210_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 239</span>
239:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">execute</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">nil</span>)
240:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:skip_logging</span>
241:           <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">query</span>(<span class="ruby-identifier">sql</span>)
242:         <span class="ruby-keyword kw">else</span>
243:           <span class="ruby-identifier">log</span>(<span class="ruby-identifier">sql</span>, <span class="ruby-identifier">name</span>) { <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">query</span>(<span class="ruby-identifier">sql</span>) }
244:         <span class="ruby-keyword kw">end</span>
245:       <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">exception</span>
246:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">exception</span>.<span class="ruby-identifier">message</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;:&quot;</span>).<span class="ruby-identifier">first</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/Packets out of order/</span>
247:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">StatementInvalid</span>, <span class="ruby-value str">&quot;'Packets out of order' error was received from the database. Please update your mysql bindings (gem install mysql) and read http://dev.mysql.com/doc/mysql/en/password-hashing.html for more information. If you're on Windows, use the Instant Rails installer to get the updated mysql bindings.&quot;</span>
248:         <span class="ruby-keyword kw">else</span>
249:           <span class="ruby-identifier">raise</span>
250:         <span class="ruby-keyword kw">end</span>
251:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001246">
                    
                    <a name="M001246"></a><b>limited_update_conditions</b>(where_sql, quoted_table_name, quoted_primary_key)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001246_source')" id="l_M001246_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L555" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001246_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 555</span>
555:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">limited_update_conditions</span>(<span class="ruby-identifier">where_sql</span>, <span class="ruby-identifier">quoted_table_name</span>, <span class="ruby-identifier">quoted_primary_key</span>)
556:         <span class="ruby-identifier">where_sql</span>
557:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001200">
                    
                    <a name="M001200"></a><b>native_database_types</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001200_source')" id="l_M001200_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L171" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001200_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 171</span>
171:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">native_database_types</span>
172:         <span class="ruby-constant">NATIVE_DATABASE_TYPES</span>
173:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001242">
                    
                    <a name="M001242"></a><b>pk_and_sequence_for</b>(table)
                    
                </div>
                
                <div class="description">
                  <p>
Returns a table&#8217;s primary key and belonging sequence.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001242_source')" id="l_M001242_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L525" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001242_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 525</span>
525:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pk_and_sequence_for</span>(<span class="ruby-identifier">table</span>)
526:         <span class="ruby-identifier">execute_and_free</span>(<span class="ruby-node">&quot;SHOW CREATE TABLE #{quote_table_name(table)}&quot;</span>, <span class="ruby-value str">'SCHEMA'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">result</span><span class="ruby-operator">|</span>
527:           <span class="ruby-identifier">create_table</span> = <span class="ruby-identifier">each_hash</span>(<span class="ruby-identifier">result</span>).<span class="ruby-identifier">first</span>[<span class="ruby-identifier">:&quot;Create Table&quot;</span>]
528:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">create_table</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp re">/PRIMARY KEY\s+(?:USING\s+\w+\s+)?\((.+)\)/</span>
529:             <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">$1</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;,&quot;</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/[`&quot;]/</span>, <span class="ruby-value str">&quot;&quot;</span>) }
530:             <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> [<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">first</span>, <span class="ruby-keyword kw">nil</span>] <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
531:           <span class="ruby-keyword kw">else</span>
532:             <span class="ruby-keyword kw">nil</span>
533:           <span class="ruby-keyword kw">end</span>
534:         <span class="ruby-keyword kw">end</span>
535:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001243">
                    
                    <a name="M001243"></a><b>primary_key</b>(table)
                    
                </div>
                
                <div class="description">
                  <p>
Returns just a table&#8217;s primary key
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001243_source')" id="l_M001243_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L538" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001243_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 538</span>
538:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">primary_key</span>(<span class="ruby-identifier">table</span>)
539:         <span class="ruby-identifier">pk_and_sequence</span> = <span class="ruby-identifier">pk_and_sequence_for</span>(<span class="ruby-identifier">table</span>)
540:         <span class="ruby-identifier">pk_and_sequence</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">pk_and_sequence</span>.<span class="ruby-identifier">first</span>
541:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001204">
                    
                    <a name="M001204"></a><b>quote</b>(value, column = nil)
                    
                </div>
                
                <div class="description">
                  <p>
QUOTING ==================================================
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001204_source')" id="l_M001204_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L196" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001204_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 196</span>
196:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quote</span>(<span class="ruby-identifier">value</span>, <span class="ruby-identifier">column</span> = <span class="ruby-keyword kw">nil</span>)
197:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">String</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">column</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:binary</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">column</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:string_to_binary</span>)
198:           <span class="ruby-identifier">s</span> = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">string_to_binary</span>(<span class="ruby-identifier">value</span>).<span class="ruby-identifier">unpack</span>(<span class="ruby-value str">&quot;H*&quot;</span>)[<span class="ruby-value">0</span>]
199:           <span class="ruby-node">&quot;x'#{s}'&quot;</span>
200:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">BigDecimal</span>)
201:           <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-value str">&quot;F&quot;</span>)
202:         <span class="ruby-keyword kw">else</span>
203:           <span class="ruby-keyword kw">super</span>
204:         <span class="ruby-keyword kw">end</span>
205:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001208">
                    
                    <a name="M001208"></a><b>quoted_false</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001208_source')" id="l_M001208_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L219" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001208_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 219</span>
219:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quoted_false</span>
220:         <span class="ruby-constant">QUOTED_FALSE</span>
221:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001207">
                    
                    <a name="M001207"></a><b>quoted_true</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001207_source')" id="l_M001207_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L215" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001207_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 215</span>
215:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quoted_true</span>
216:         <span class="ruby-constant">QUOTED_TRUE</span>
217:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001221">
                    
                    <a name="M001221"></a><b>recreate_database</b>(name, options = {})
                    
                </div>
                
                <div class="description">
                  <p>
Drops the database specified on the <tt>name</tt> attribute and creates it
again using the provided <tt>options</tt>.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001221_source')" id="l_M001221_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L334" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001221_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 334</span>
334:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">recreate_database</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span> = {})
335:         <span class="ruby-identifier">drop_database</span>(<span class="ruby-identifier">name</span>)
336:         <span class="ruby-identifier">create_database</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>)
337:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001218">
                    
                    <a name="M001218"></a><b>release_savepoint</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001218_source')" id="l_M001218_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L291" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001218_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 291</span>
291:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">release_savepoint</span>
292:         <span class="ruby-identifier">execute</span>(<span class="ruby-node">&quot;RELEASE SAVEPOINT #{current_savepoint_name}&quot;</span>)
293:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001233">
                    
                    <a name="M001233"></a><b>rename_table</b>(table_name, new_name)
                    
                </div>
                
                <div class="description">
                  <p>
Renames a table.
</p>
<p>
Example:
</p>
<pre>
  rename_table('octopuses', 'octopi')
</pre>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001233_source')" id="l_M001233_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L454" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001233_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 454</span>
454:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rename_table</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">new_name</span>)
455:         <span class="ruby-identifier">execute</span> <span class="ruby-node">&quot;RENAME TABLE #{quote_table_name(table_name)} TO #{quote_table_name(new_name)}&quot;</span>
456:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001217">
                    
                    <a name="M001217"></a><b>rollback_to_savepoint</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001217_source')" id="l_M001217_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L287" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001217_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 287</span>
287:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rollback_to_savepoint</span>
288:         <span class="ruby-identifier">execute</span>(<span class="ruby-node">&quot;ROLLBACK TO SAVEPOINT #{current_savepoint_name}&quot;</span>)
289:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001241">
                    
                    <a name="M001241"></a><b>show_variable</b>(name)
                    
                </div>
                
                <div class="description">
                  <p>
SHOW VARIABLES LIKE &#8216;name&#8217;
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001241_source')" id="l_M001241_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L519" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001241_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 519</span>
519:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">show_variable</span>(<span class="ruby-identifier">name</span>)
520:         <span class="ruby-identifier">variables</span> = <span class="ruby-identifier">select_all</span>(<span class="ruby-node">&quot;SHOW VARIABLES LIKE '#{name}'&quot;</span>)
521:         <span class="ruby-identifier">variables</span>.<span class="ruby-identifier">first</span>[<span class="ruby-value str">'Value'</span>] <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">variables</span>.<span class="ruby-identifier">empty?</span>
522:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001199">
                    
                    <a name="M001199"></a><b>supports_index_sort_order?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Technically MySQL allows to create indexes with the sort order syntax but
at the moment (5.5) it doesn&#8217;t yet implement them
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001199_source')" id="l_M001199_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L167" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001199_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 167</span>
167:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">supports_index_sort_order?</span>
168:         <span class="ruby-keyword kw">true</span>
169:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001195">
                    
                    <a name="M001195"></a><b>supports_migrations?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true, since this connection adapter supports migrations.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001195_source')" id="l_M001195_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L148" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001195_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 148</span>
148:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">supports_migrations?</span>
149:         <span class="ruby-keyword kw">true</span>
150:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001196">
                    
                    <a name="M001196"></a><b>supports_primary_key?</b>()
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001196_source')" id="l_M001196_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L152" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001196_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 152</span>
152:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">supports_primary_key?</span>
153:         <span class="ruby-keyword kw">true</span>
154:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001197">
                    
                    <a name="M001197"></a><b>supports_savepoints?</b>()
                    
                </div>
                
                <div class="description">
                  <p>
Returns true, since this connection adapter supports savepoints.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001197_source')" id="l_M001197_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L157" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001197_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 157</span>
157:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">supports_savepoints?</span>
158:         <span class="ruby-keyword kw">true</span>
159:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001228">
                    
                    <a name="M001228"></a><b>table_exists?</b>(name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001228_source')" id="l_M001228_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L386" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001228_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 386</span>
386:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">table_exists?</span>(<span class="ruby-identifier">name</span>)
387:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">name</span>
388:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">tables</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">name</span>).<span class="ruby-identifier">any?</span>
389: 
390:         <span class="ruby-identifier">name</span>          = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
391:         <span class="ruby-identifier">schema</span>, <span class="ruby-identifier">table</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">'.'</span>, <span class="ruby-value">2</span>)
392: 
393:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">table</span> <span class="ruby-comment cmt"># A table was provided without a schema</span>
394:           <span class="ruby-identifier">table</span>  = <span class="ruby-identifier">schema</span>
395:           <span class="ruby-identifier">schema</span> = <span class="ruby-keyword kw">nil</span>
396:         <span class="ruby-keyword kw">end</span>
397: 
398:         <span class="ruby-identifier">tables</span>(<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">schema</span>, <span class="ruby-identifier">table</span>).<span class="ruby-identifier">any?</span>
399:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001239">
                    
                    <a name="M001239"></a><b>type_to_sql</b>(type, limit = nil, precision = nil, scale = nil)
                    
                </div>
                
                <div class="description">
                  <p>
Maps logical <a href="../../Rails.html">Rails</a> types to MySQL-specific
data types.
</p>

                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001239_source')" id="l_M001239_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L486" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001239_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 486</span>
486:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">type_to_sql</span>(<span class="ruby-identifier">type</span>, <span class="ruby-identifier">limit</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">precision</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">scale</span> = <span class="ruby-keyword kw">nil</span>)
487:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>
488:         <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'integer'</span>
489:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">limit</span>
490:           <span class="ruby-keyword kw">when</span> <span class="ruby-value">1</span>; <span class="ruby-value str">'tinyint'</span>
491:           <span class="ruby-keyword kw">when</span> <span class="ruby-value">2</span>; <span class="ruby-value str">'smallint'</span>
492:           <span class="ruby-keyword kw">when</span> <span class="ruby-value">3</span>; <span class="ruby-value str">'mediumint'</span>
493:           <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">4</span>, <span class="ruby-value">11</span>; <span class="ruby-value str">'int(11)'</span>  <span class="ruby-comment cmt"># compatibility with MySQL default</span>
494:           <span class="ruby-keyword kw">when</span> <span class="ruby-value">5</span><span class="ruby-operator">..</span><span class="ruby-value">8</span>; <span class="ruby-value str">'bigint'</span>
495:           <span class="ruby-keyword kw">else</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">ActiveRecordError</span>, <span class="ruby-node">&quot;No integer type has byte size #{limit}&quot;</span>)
496:           <span class="ruby-keyword kw">end</span>
497:         <span class="ruby-keyword kw">when</span> <span class="ruby-value str">'text'</span>
498:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">limit</span>
499:           <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">0xff</span>;               <span class="ruby-value str">'tinytext'</span>
500:           <span class="ruby-keyword kw">when</span> <span class="ruby-keyword kw">nil</span>, <span class="ruby-value">0x100</span><span class="ruby-operator">..</span><span class="ruby-value">0xffff</span>;    <span class="ruby-value str">'text'</span>
501:           <span class="ruby-keyword kw">when</span> <span class="ruby-value">0x10000</span><span class="ruby-operator">..</span><span class="ruby-value">0xffffff</span>;     <span class="ruby-value str">'mediumtext'</span>
502:           <span class="ruby-keyword kw">when</span> <span class="ruby-value">0x1000000</span><span class="ruby-operator">..</span><span class="ruby-value">0xffffffff</span>; <span class="ruby-value str">'longtext'</span>
503:           <span class="ruby-keyword kw">else</span> <span class="ruby-identifier">raise</span>(<span class="ruby-constant">ActiveRecordError</span>, <span class="ruby-node">&quot;No text type has character length #{limit}&quot;</span>)
504:           <span class="ruby-keyword kw">end</span>
505:         <span class="ruby-keyword kw">else</span>
506:           <span class="ruby-keyword kw">super</span>
507:         <span class="ruby-keyword kw">end</span>
508:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="sectiontitle">Instance Protected methods</div>
            
            <div class="method">
                <div class="title" id="M001250">
                    
                    <a name="M001250"></a><b>add_column_sql</b>(table_name, column_name, type, options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001250_source')" id="l_M001250_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L597" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001250_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 597</span>
597:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_column_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">options</span> = {})
598:         <span class="ruby-identifier">add_column_sql</span> = <span class="ruby-node">&quot;ADD #{quote_column_name(column_name)} #{type_to_sql(type, options[:limit], options[:precision], options[:scale])}&quot;</span>
599:         <span class="ruby-identifier">add_column_options!</span>(<span class="ruby-identifier">add_column_sql</span>, <span class="ruby-identifier">options</span>)
600:         <span class="ruby-identifier">add_column_position!</span>(<span class="ruby-identifier">add_column_sql</span>, <span class="ruby-identifier">options</span>)
601:         <span class="ruby-identifier">add_column_sql</span>
602:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001247">
                    
                    <a name="M001247"></a><b>add_index_length</b>(option_strings, column_names, options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001247_source')" id="l_M001247_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L561" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001247_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 561</span>
561:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_index_length</span>(<span class="ruby-identifier">option_strings</span>, <span class="ruby-identifier">column_names</span>, <span class="ruby-identifier">options</span> = {})
562:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">length</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:length</span>]
563:           <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">length</span>
564:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>
565:             <span class="ruby-identifier">column_names</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">option_strings</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;(#{length[name]})&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">length</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">length</span>[<span class="ruby-identifier">name</span>].<span class="ruby-identifier">present?</span>}
566:           <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Fixnum</span>
567:             <span class="ruby-identifier">column_names</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">option_strings</span>[<span class="ruby-identifier">name</span>] <span class="ruby-operator">+=</span> <span class="ruby-node">&quot;(#{length})&quot;</span>}
568:           <span class="ruby-keyword kw">end</span>
569:         <span class="ruby-keyword kw">end</span>
570: 
571:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">option_strings</span>
572:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001254">
                    
                    <a name="M001254"></a><b>add_index_sql</b>(table_name, column_name, options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001254_source')" id="l_M001254_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L642" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001254_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 642</span>
642:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_index_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">options</span> = {})
643:         <span class="ruby-identifier">index_name</span>, <span class="ruby-identifier">index_type</span>, <span class="ruby-identifier">index_columns</span> = <span class="ruby-identifier">add_index_options</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">options</span>)
644:         <span class="ruby-node">&quot;ADD #{index_type} INDEX #{index_name} (#{index_columns})&quot;</span>
645:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001256">
                    
                    <a name="M001256"></a><b>add_timestamps_sql</b>(table_name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001256_source')" id="l_M001256_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L652" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001256_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 652</span>
652:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_timestamps_sql</span>(<span class="ruby-identifier">table_name</span>)
653:         [<span class="ruby-identifier">add_column_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">:created_at</span>, <span class="ruby-identifier">:datetime</span>), <span class="ruby-identifier">add_column_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">:updated_at</span>, <span class="ruby-identifier">:datetime</span>)]
654:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001251">
                    
                    <a name="M001251"></a><b>change_column_sql</b>(table_name, column_name, type, options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001251_source')" id="l_M001251_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L604" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001251_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 604</span>
604:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">change_column_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">type</span>, <span class="ruby-identifier">options</span> = {})
605:         <span class="ruby-identifier">column</span> = <span class="ruby-identifier">column_for</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>)
606: 
607:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options_include_default?</span>(<span class="ruby-identifier">options</span>)
608:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:default</span>] = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">default</span>
609:         <span class="ruby-keyword kw">end</span>
610: 
611:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:null</span>)
612:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:null</span>] = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">null</span>
613:         <span class="ruby-keyword kw">end</span>
614: 
615:         <span class="ruby-identifier">change_column_sql</span> = <span class="ruby-node">&quot;CHANGE #{quote_column_name(column_name)} #{quote_column_name(column_name)} #{type_to_sql(type, options[:limit], options[:precision], options[:scale])}&quot;</span>
616:         <span class="ruby-identifier">add_column_options!</span>(<span class="ruby-identifier">change_column_sql</span>, <span class="ruby-identifier">options</span>)
617:         <span class="ruby-identifier">add_column_position!</span>(<span class="ruby-identifier">change_column_sql</span>, <span class="ruby-identifier">options</span>)
618:         <span class="ruby-identifier">change_column_sql</span>
619:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001248">
                    
                    <a name="M001248"></a><b>quoted_columns_for_index</b>(column_names, options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001248_source')" id="l_M001248_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L574" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001248_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 574</span>
574:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">quoted_columns_for_index</span>(<span class="ruby-identifier">column_names</span>, <span class="ruby-identifier">options</span> = {})
575:         <span class="ruby-identifier">option_strings</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">column_names</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">name</span>, <span class="ruby-value str">''</span>]}]
576: 
577:         <span class="ruby-comment cmt"># add index length</span>
578:         <span class="ruby-identifier">option_strings</span> = <span class="ruby-identifier">add_index_length</span>(<span class="ruby-identifier">option_strings</span>, <span class="ruby-identifier">column_names</span>, <span class="ruby-identifier">options</span>)
579: 
580:         <span class="ruby-comment cmt"># add index sort order</span>
581:         <span class="ruby-identifier">option_strings</span> = <span class="ruby-identifier">add_index_sort_order</span>(<span class="ruby-identifier">option_strings</span>, <span class="ruby-identifier">column_names</span>, <span class="ruby-identifier">options</span>)
582: 
583:         <span class="ruby-identifier">column_names</span>.<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">quote_column_name</span>(<span class="ruby-identifier">name</span>) <span class="ruby-operator">+</span> <span class="ruby-identifier">option_strings</span>[<span class="ruby-identifier">name</span>]}
584:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001253">
                    
                    <a name="M001253"></a><b>remove_column_sql</b>(table_name, *column_names)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001253_source')" id="l_M001253_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L637" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001253_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 637</span>
637:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_column_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">column_names</span>)
638:         <span class="ruby-identifier">columns_for_remove</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">column_names</span>).<span class="ruby-identifier">map</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">column_name</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;DROP #{column_name}&quot;</span> }
639:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001255">
                    
                    <a name="M001255"></a><b>remove_index_sql</b>(table_name, options = {})
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001255_source')" id="l_M001255_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L647" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001255_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 647</span>
647:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_index_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">options</span> = {})
648:         <span class="ruby-identifier">index_name</span> = <span class="ruby-identifier">index_name_for_remove</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">options</span>)
649:         <span class="ruby-node">&quot;DROP INDEX #{index_name}&quot;</span>
650:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001257">
                    
                    <a name="M001257"></a><b>remove_timestamps_sql</b>(table_name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001257_source')" id="l_M001257_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L656" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001257_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 656</span>
656:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_timestamps_sql</span>(<span class="ruby-identifier">table_name</span>)
657:         [<span class="ruby-identifier">remove_column_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">:updated_at</span>), <span class="ruby-identifier">remove_column_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">:created_at</span>)]
658:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001252">
                    
                    <a name="M001252"></a><b>rename_column_sql</b>(table_name, column_name, new_column_name)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001252_source')" id="l_M001252_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L621" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001252_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 621</span>
621:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">rename_column_sql</span>(<span class="ruby-identifier">table_name</span>, <span class="ruby-identifier">column_name</span>, <span class="ruby-identifier">new_column_name</span>)
622:         <span class="ruby-identifier">options</span> = {}
623: 
624:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">column</span> = <span class="ruby-identifier">columns</span>(<span class="ruby-identifier">table_name</span>).<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">column_name</span>.<span class="ruby-identifier">to_s</span> }
625:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:default</span>] = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">default</span>
626:           <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:null</span>] = <span class="ruby-identifier">column</span>.<span class="ruby-identifier">null</span>
627:         <span class="ruby-keyword kw">else</span>
628:           <span class="ruby-identifier">raise</span> <span class="ruby-constant">ActiveRecordError</span>, <span class="ruby-node">&quot;No such column: #{table_name}.#{column_name}&quot;</span>
629:         <span class="ruby-keyword kw">end</span>
630: 
631:         <span class="ruby-identifier">current_type</span> = <span class="ruby-identifier">select_one</span>(<span class="ruby-node">&quot;SHOW COLUMNS FROM #{quote_table_name(table_name)} LIKE '#{column_name}'&quot;</span>)[<span class="ruby-value str">&quot;Type&quot;</span>]
632:         <span class="ruby-identifier">rename_column_sql</span> = <span class="ruby-node">&quot;CHANGE #{quote_column_name(column_name)} #{quote_column_name(new_column_name)} #{current_type}&quot;</span>
633:         <span class="ruby-identifier">add_column_options!</span>(<span class="ruby-identifier">rename_column_sql</span>, <span class="ruby-identifier">options</span>)
634:         <span class="ruby-identifier">rename_column_sql</span>
635:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
            <div class="method">
                <div class="title" id="M001249">
                    
                    <a name="M001249"></a><b>translate_exception</b>(exception, message)
                    
                </div>
                
                
                
                
                <div class="sourcecode">
                    <p class="source-link">
                        Source: <a href="javascript:toggleSource('M001249_source')" id="l_M001249_source">show</a>
                        
                        | <a href="http://github.com/rails/rails/blob/22994b2d638738abce7dc7672c27a5e7171018e8/activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb#L586" target="_blank" class="github_url">on GitHub</a>
                        
                    </p>
                    <div id="M001249_source" class="dyn-source">
                        <pre>     <span class="ruby-comment cmt"># File activerecord/lib/active_record/connection_adapters/abstract_mysql_adapter.rb, line 586</span>
586:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">translate_exception</span>(<span class="ruby-identifier">exception</span>, <span class="ruby-identifier">message</span>)
587:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">error_number</span>(<span class="ruby-identifier">exception</span>)
588:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">1062</span>
589:           <span class="ruby-constant">RecordNotUnique</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">message</span>, <span class="ruby-identifier">exception</span>)
590:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">1452</span>
591:           <span class="ruby-constant">InvalidForeignKey</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">message</span>, <span class="ruby-identifier">exception</span>)
592:         <span class="ruby-keyword kw">else</span>
593:           <span class="ruby-keyword kw">super</span>
594:         <span class="ruby-keyword kw">end</span>
595:       <span class="ruby-keyword kw">end</span></pre>
                    </div>
                </div>
                
            </div>
            
</div>
    </div>
  </body>
</html>    